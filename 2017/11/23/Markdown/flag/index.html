<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>flag usage - Golang | Glody&#39;s Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="https://golang.org/pkg/flag/ Go语言flag包import &amp;quot;flag&amp;quot;    &amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;概述   &amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;示例   &amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;索引   概述Flag包履行命令行flag语法分析的功能。用法：用flag.String(),Bool()">
<meta name="keywords" content="Markdown">
<meta property="og:type" content="article">
<meta property="og:title" content="flag usage - Golang">
<meta property="og:url" content="http://glody.net/2017/11/23/Markdown/flag/index.html">
<meta property="og:site_name" content="Glody's Notes">
<meta property="og:description" content="https://golang.org/pkg/flag/ Go语言flag包import &amp;quot;flag&amp;quot;    &amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;概述   &amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;示例   &amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;索引   概述Flag包履行命令行flag语法分析的功能。用法：用flag.String(),Bool()">
<meta property="og:updated_time" content="2017-11-23T09:29:49.912Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="flag usage - Golang">
<meta name="twitter:description" content="https://golang.org/pkg/flag/ Go语言flag包import &amp;quot;flag&amp;quot;    &amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;概述   &amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;示例   &amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;索引   概述Flag包履行命令行flag语法分析的功能。用法：用flag.String(),Bool()">
  
  
    <link rel="icon" href="https://avatars3.githubusercontent.com/u/1768868?v=3&s=460">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlight.css">
  <link href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  
</head>
<div style="display: none">
  <input class="theme_disqus_on" value="true">
  <input class="theme_preload_comment" value="true">
</div>
<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar" style="background-image:url(https://avatars3.githubusercontent.com/u/1768868?v=3&amp;s=460)"></a>
<div class="author">
    <span>Glody Guo</span>
</div>
<div class="icon">
    
    <a class="github" title="github" href="https://github.com/glody" target="_blank"></a>
    
    
    
    
    <a class="linkedin" title="linkedin" href="glodyguo" target="_blank"></a>
    
    
    
    <a class="mail" title="mail" href="mailto:glody.guo@gmail.com"></a>
    
</div>
<ul>
    <li class="all active">全部文章</li>
    
</ul>
    </div>
    <div class="nav-right">
        <form onkeydown="if(event.keyCode==13){return false;}">
    <input class="search" type="text" placeholder="Search..." autocomplete="off">
    <span>
        <label for="tagswitch">Tags:</label>
        <input id="tagswitch" type="checkbox">
    </span>
</form>
<ul class="tags-list">
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">Markdown</a>
    </li>
    
    <div class="clearfix"></div>
</ul>

<nav>
    
    <a class="" href="/2017/11/23/Markdown/AddSecurityGroupRule/" data-tag="Markdown">
        <span class="post-title" title="AddSecurityGroupRule">AddSecurityGroupRule</span>
        <span class="post-date" title="2017-11-23 17:29:20">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/Add_test_suite/" data-tag="Markdown">
        <span class="post-title" title="add test suite">add test suite</span>
        <span class="post-date" title="2017-11-23 17:29:34">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/Baremetal/" data-tag="Markdown">
        <span class="post-title" title="baremetal setup">baremetal setup</span>
        <span class="post-date" title="2017-11-23 17:29:50">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/DNSmasq/" data-tag="Markdown">
        <span class="post-title" title="DNSmasq Usage">DNSmasq Usage</span>
        <span class="post-date" title="2017-11-23 17:29:35">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/License_apply/" data-tag="Markdown">
        <span class="post-title" title="license apply">license apply</span>
        <span class="post-date" title="2017-11-23 17:30:02">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/MySql数据库操作/" data-tag="Markdown">
        <span class="post-title" title="MySql操作">MySql操作</span>
        <span class="post-date" title="2017-11-23 17:29:31">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/Vim批量注释/" data-tag="Markdown">
        <span class="post-title" title="Vim批量注释">Vim批量注释</span>
        <span class="post-date" title="2017-11-23 17:30:01">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/Win10_installation/" data-tag="Markdown">
        <span class="post-title" title="Win10 installtion">Win10 installtion</span>
        <span class="post-date" title="2017-11-23 17:29:41">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/ad/" data-tag="Markdown">
        <span class="post-title" title="AD DC setup">AD DC setup</span>
        <span class="post-date" title="2017-11-23 17:29:10">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/ad_test/" data-tag="Markdown">
        <span class="post-title" title="adtest">adtest</span>
        <span class="post-date" title="2017-11-23 17:29:05">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/autostart/" data-tag="Markdown">
        <span class="post-title" title="centos7 autostart setup">centos7 autostart setup</span>
        <span class="post-date" title="2017-11-23 17:29:37">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/baremetal_vnc/" data-tag="Markdown">
        <span class="post-title" title="baremetal vnc">baremetal vnc</span>
        <span class="post-date" title="2017-11-23 17:29:32">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/cannot_sariablize_None/" data-tag="Markdown">
        <span class="post-title" title="auto test analysis">auto test analysis</span>
        <span class="post-date" title="2017-11-23 17:29:21">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/check_port/" data-tag="Markdown">
        <span class="post-title" title="network prot check with telnet">network prot check with telnet</span>
        <span class="post-date" title="2017-11-23 17:29:53">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/check_smb/" data-tag="Markdown">
        <span class="post-title" title="check smb">check smb</span>
        <span class="post-date" title="2017-11-23 17:29:51">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/curl/" data-tag="Markdown">
        <span class="post-title" title="Nightly test db">Nightly test db</span>
        <span class="post-date" title="2017-11-23 17:29:57">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/drbd_setup/" data-tag="Markdown">
        <span class="post-title" title="drbd setup">drbd setup</span>
        <span class="post-date" title="2017-11-23 17:29:56">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/elk_master_pw/" data-tag="Markdown">
        <span class="post-title" title="ELK_Master的用户名和密码">ELK_Master的用户名和密码</span>
        <span class="post-date" title="2017-11-23 17:29:33">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/elk_setup/" data-tag="Markdown">
        <span class="post-title" title="ELK setup">ELK setup</span>
        <span class="post-date" title="2017-11-23 17:29:41">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/eth0/" data-tag="Markdown">
        <span class="post-title" title="解决vm联网问题">解决vm联网问题</span>
        <span class="post-date" title="2017-11-23 17:29:17">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/fallocate/" data-tag="Markdown">
        <span class="post-title" title="创建固定大小文件">创建固定大小文件</span>
        <span class="post-date" title="2017-11-23 17:30:00">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/flag/" data-tag="Markdown">
        <span class="post-title" title="flag usage - Golang">flag usage - Golang</span>
        <span class="post-date" title="2017-11-23 17:29:49">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/get_current_user/" data-tag="Markdown">
        <span class="post-title" title="Nightly test db">Nightly test db</span>
        <span class="post-date" title="2017-11-23 17:29:58">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/flag_package/" data-tag="Markdown">
        <span class="post-title" title="flag包使用详解 -Golang">flag包使用详解 -Golang</span>
        <span class="post-date" title="2017-11-23 17:29:49">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/gist/" data-tag="Markdown">
        <span class="post-title" title="gist">gist</span>
        <span class="post-date" title="2017-11-23 17:29:06">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/git_sync_upstream/" data-tag="Markdown">
        <span class="post-title" title="github sync with upstream">github sync with upstream</span>
        <span class="post-date" title="2017-11-23 17:29:29">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/hwinfo/" data-tag="Markdown">
        <span class="post-title" title="get linux hardware info">get linux hardware info</span>
        <span class="post-date" title="2017-11-23 17:29:11">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/iostat/" data-tag="Markdown">
        <span class="post-title" title="iostat">iostat</span>
        <span class="post-date" title="2017-11-23 17:29:15">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/iotop/" data-tag="Markdown">
        <span class="post-title" title="iotop">iotop</span>
        <span class="post-date" title="2017-11-23 17:29:13">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/iptables_enable_samba/" data-tag="Markdown">
        <span class="post-title" title="enable samba from iptables">enable samba from iptables</span>
        <span class="post-date" title="2017-11-23 17:29:52">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/kibana_readonly/" data-tag="Markdown">
        <span class="post-title" title="kibana readonly setup">kibana readonly setup</span>
        <span class="post-date" title="2017-11-23 17:29:40">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/ldap/" data-tag="Markdown">
        <span class="post-title" title="ldap setup">ldap setup</span>
        <span class="post-date" title="2017-11-23 17:29:23">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/loading_test/" data-tag="Markdown">
        <span class="post-title" title="loading test with FIO">loading test with FIO</span>
        <span class="post-date" title="2017-11-23 17:29:43">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/local_ps_multicluster_setup/" data-tag="Markdown">
        <span class="post-title" title="lacal ps multicluster setup">lacal ps multicluster setup</span>
        <span class="post-date" title="2017-11-23 17:29:36">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/markdown/" data-tag="Markdown">
        <span class="post-title" title="Markdown语法">Markdown语法</span>
        <span class="post-date" title="2017-11-23 17:29:48">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/mn_log_query/" data-tag="Markdown">
        <span class="post-title" title="management server log query">management server log query</span>
        <span class="post-date" title="2017-11-23 17:29:28">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/network/" data-tag="Markdown">
        <span class="post-title" title="网络命令">网络命令</span>
        <span class="post-date" title="2017-11-23 17:29:21">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/mysql_query_nightly_failure/" data-tag="Markdown">
        <span class="post-title" title="mysql query nightly failure">mysql query nightly failure</span>
        <span class="post-date" title="2017-11-23 17:29:32">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/network_test/" data-tag="Markdown">
        <span class="post-title" title="network test">network test</span>
        <span class="post-date" title="2017-11-23 17:29:56">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/nightly_analyse_0502/" data-tag="Markdown">
        <span class="post-title" title="nightly analyse 0502">nightly analyse 0502</span>
        <span class="post-date" title="2017-11-23 17:29:47">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/nightly_analysis_0420/" data-tag="Markdown">
        <span class="post-title" title="nigthly analysis 0420">nigthly analysis 0420</span>
        <span class="post-date" title="2017-11-23 17:29:55">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/note/" data-tag="Markdown">
        <span class="post-title" title="note">note</span>
        <span class="post-date" title="2017-11-23 17:29:02">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/password/" data-tag="Markdown">
        <span class="post-title" title="vrouter password">vrouter password</span>
        <span class="post-date" title="2017-11-23 17:29:25">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/program_process/" data-tag="Markdown">
        <span class="post-title" title="program process">program process</span>
        <span class="post-date" title="2017-11-23 17:29:42">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/project/" data-tag="Markdown">
        <span class="post-title" title="project">project</span>
        <span class="post-date" title="2017-11-23 17:29:06">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/query_global_config/" data-tag="Markdown">
        <span class="post-title" title="query global config">query global config</span>
        <span class="post-date" title="2017-11-23 17:29:44">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/remount/" data-tag="Markdown">
        <span class="post-title" title="remount">remount</span>
        <span class="post-date" title="2017-11-23 17:29:09">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/restart_smb/" data-tag="Markdown">
        <span class="post-title" title="resart smb">resart smb</span>
        <span class="post-date" title="2017-11-23 17:29:51">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/restful_api/" data-tag="Markdown">
        <span class="post-title" title="restful api">restful api</span>
        <span class="post-date" title="2017-11-23 17:29:25">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/s3cmd/" data-tag="Markdown">
        <span class="post-title" title="s3cmd">s3cmd</span>
        <span class="post-date" title="2017-11-23 17:29:26">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/sar/" data-tag="Markdown">
        <span class="post-title" title="sar">sar</span>
        <span class="post-date" title="2017-11-23 17:29:12">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/shadowsocks/" data-tag="Markdown">
        <span class="post-title" title="shadowsocks">shadowsocks</span>
        <span class="post-date" title="2017-11-23 17:29:09">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/shell/" data-tag="Markdown">
        <span class="post-title" title="Shell快捷键">Shell快捷键</span>
        <span class="post-date" title="2017-11-23 17:29:27">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/slappasswordm/" data-tag="Markdown">
        <span class="post-title" title="slappassword">slappassword</span>
        <span class="post-date" title="2017-11-23 17:29:46">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/start_tui/" data-tag="Markdown">
        <span class="post-title" title="Nightly test db">Nightly test db</span>
        <span class="post-date" title="2017-11-23 17:29:59">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/sysstat/" data-tag="Markdown">
        <span class="post-title" title="sysstat">sysstat</span>
        <span class="post-date" title="2017-11-23 17:29:12">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/timeout/" data-tag="Markdown">
        <span class="post-title" title="zstack timeout setup">zstack timeout setup</span>
        <span class="post-date" title="2017-11-23 17:29:04">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/top/" data-tag="Markdown">
        <span class="post-title" title="top">top</span>
        <span class="post-date" title="2017-11-23 17:29:16">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/unzip/" data-tag="Markdown">
        <span class="post-title" title="Linux解压">Linux解压</span>
        <span class="post-date" title="2017-11-23 17:29:07">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/update_iso/" data-tag="Markdown">
        <span class="post-title" title="update iso">update iso</span>
        <span class="post-date" title="2017-11-23 17:29:46">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/tui_setup/" data-tag="Markdown">
        <span class="post-title" title="tui_setup">tui_setup</span>
        <span class="post-date" title="2017-11-23 17:29:19">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/vim/" data-tag="Markdown">
        <span class="post-title" title="vim 常用快捷键">vim 常用快捷键</span>
        <span class="post-date" title="2017-11-23 17:29:28">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/uptime/" data-tag="Markdown">
        <span class="post-title" title="uptime">uptime</span>
        <span class="post-date" title="2017-11-23 17:29:16">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/vim_缩进开关/" data-tag="Markdown">
        <span class="post-title" title="vim 缩进开关">vim 缩进开关</span>
        <span class="post-date" title="2017-11-23 17:29:30">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/virsh/" data-tag="Markdown">
        <span class="post-title" title="virsh">virsh</span>
        <span class="post-date" title="2017-11-23 17:29:08">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/vrouter_image/" data-tag="Markdown">
        <span class="post-title" title="vrouter image url">vrouter image url</span>
        <span class="post-date" title="2017-11-23 17:29:37">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/weekly_0421/" data-tag="Markdown">
        <span class="post-title" title="weekly_0421">weekly_0421</span>
        <span class="post-date" title="2017-11-23 17:29:54">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/win_cloudbase/" data-tag="Markdown">
        <span class="post-title" title="win cloudbase test">win cloudbase test</span>
        <span class="post-date" title="2017-11-23 17:29:03">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/windows_image/" data-tag="Markdown">
        <span class="post-title" title="windows image url">windows image url</span>
        <span class="post-date" title="2017-11-23 17:29:43">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/xsky/" data-tag="Markdown">
        <span class="post-title" title="xsky设置与使用">xsky设置与使用</span>
        <span class="post-date" title="2017-11-23 17:29:24">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/同步时间/" data-tag="Markdown">
        <span class="post-title" title="同步时间">同步时间</span>
        <span class="post-date" title="2017-11-23 17:29:23">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/虚拟化打开/" data-tag="Markdown">
        <span class="post-title" title="虚拟化打开">虚拟化打开</span>
        <span class="post-date" title="2017-11-23 17:29:23">2017/11/23</span>
    </a>
    
    <a class="" href="/2017/11/23/Markdown/虚拟实体终端对比/" data-tag="Markdown">
        <span class="post-title" title="虚拟实体终端对比">虚拟实体终端对比</span>
        <span class="post-date" title="2017-11-23 17:29:35">2017/11/23</span>
    </a>
    
</nav>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-Markdown/flag" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
      
      <time class="date" title="2017-11-23 17:29:49">2017 November 23</time>
      
      
      <span class="tag">
        
      <a href="javascript:" class="color4">Markdown</a>
        
      </span>
      
  </div>
    
        <h1 class="article-title">flag usage - Golang</h1>
    
    <div class="toc-ref">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Go语言flag包"><span class="toc-text">Go语言flag包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#overview"><span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#examples"><span class="toc-text">示例:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#index"><span class="toc-text">索引</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#undefined"><span class="toc-text">Package files</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://golang.org/pkg/flag/" target="_blank" rel="external">https://golang.org/pkg/flag/</a></p>
<h1 id="Go语言flag包"><a href="#Go语言flag包" class="headerlink" title="Go语言flag包"></a>Go语言<a href="https://golang.org/pkg/flag" target="_blank" rel="external">flag</a>包</h1><pre><code>import &quot;flag&quot;
</code></pre><p>   &ensp;&ensp;&ensp;&ensp;<a href="#overview">概述</a><br>   &ensp;&ensp;&ensp;&ensp;<a href="#examples">示例</a><br>   &ensp;&ensp;&ensp;&ensp;<a href="#index">索引</a>  </p>
<p></p><h2 id="overview">概述</h2><br>Flag包履行命令行flag语法分析的功能。<br>用法：<br>用flag.String(),Bool(),Int()等函数定义flag。<br>它声明一个名为“-flagname”的整数flag，保存在整形(*int)的指针ip中。  <p></p>
<pre><code>import "flag"
var ip = flag.Int("flagname", 1234, "help message for flagname")</code></pre> 
你也可以用函数Var()把flag赋值给一个变量。
<pre><code>var flagvar int
func init() {
    flag.IntVar(&flagvar, "flagname", 1234, "help message for flagname")
}</code></pre>
你也可以创建自定义的flag，来满足值接口(通过指针接收器实现)。通过下面的语句实现与flag的配对。
<pre><code>flag.Var(&flagVal, "name", "help message for flagname")</code></pre>
有些flag，默认值只是变量的初始值。  
所有的flag都定义一会，执行
<pre><code>flag.Parse()</code></pre>
来解析命令行参数到已定义的flag。  
<p></p>
Flag也可以直接使用。如果你使用flag自身，它们都是指针。如果绑定到变量，它们就是值。
<pre><code>fmt.Println("ip has value ", \*ip)
fmt.Println("flagvar has value ", flagvar)</code></pre>
解析以后，flag.Args()的切片就是flag的参数，也可以用flag.Arg(i)获取单个参数。  
参数序号从0到flag.NArg()-1。  

命令行flag语法：
<pre><code>-flag
-flag=x
-flag x //只能是非布尔值</code></pre>
“-”和“==”都是有效的，二者等价。上面最后一种情况不能为布尔值。因为如下命令
<pre><code>cmd -x \*</code></pre>
当\*为0时，可以理解为文件名为0，也可以理解为布尔值false，会造成困惑。所以当你要表示布尔flag时，只能用-flag=false（上述第二种方式）。  
Flag解析时碰到non-flag参数（“-”就是non-flag参数）时或终止符“--”后停止。
整形flag可接受形如1234、0664、0x1234和负值的数。布尔型flag包括：
<pre><code>1, 0, t, f, T, F, true, false, TRUE, FALSE, True, False</code></pre>
持续flag接受任意有效的输入。以赋值给time.ParseDuration。  
默认的命令行flag集由顶级（top-level）函数控制。类型FlagSet允许定义独立的flag集，例如处理命令行参数里面的子命令集。FlagSet的处理方式与顶级函数对命令行flag的处理类似。    
<p></p>
<h2 id="examples">示例:</h2>
<pre><code>// These examples demonstrate more intricate uses of the flag package.
package main

import (
    "errors"
    "flag"
    "fmt"
    "strings"
    "time"
)

// Example 1: A single string flag called "species" with default value "gopher".
var species = flag.String("species", "gopher", "the species we are studying")

// Example 2: Two flags sharing a variable, so we can have a shorthand.
// The order of initialization is undefined, so make sure both use the
// same default value. They must be set up with an init function.
var gopherType string

func init() {
    const (
        defaultGopher = "pocket"
        usage         = "the variety of gopher"
    )
    flag.StringVar(&gopherType, "gopher\_type", defaultGopher, usage)
    flag.StringVar(&gopherType, "g", defaultGopher, usage+" (shorthand)")
}

// Example 3: A user-defined flag type, a slice of durations.
type interval []time.Duration

// String is the method to format the flag's value, part of the flag.Value interface.
// The String method's output will be used in diagnostics.
func (i \*interval) String() string {
    return fmt.Sprint(\*i)
}

// Set is the method to set the flag value, part of the flag.Value interface.
// Set's argument is a string to be parsed to set the flag.
// It's a comma-separated list, so we split it.
func (i \*interval) Set(value string) error {
    // If we wanted to allow the flag to be set multiple times,
    // accumulating values, we would delete this if statement.
    // That would permit usages such as
    //    -deltaT 10s -deltaT 15s
    // and other combinations.
    if len(\*i) > 0 {
        return errors.New("interval flag already set")
    }
    for _, dt := range strings.Split(value, ",") {
        duration, err := time.ParseDuration(dt)
        if err != nil {
            return err
        }
        \*i = append(\*i, duration)
    }
    return nil
}

// Define a flag to accumulate durations. Because it has a special type,
// we need to use the Var function and therefore create the flag during
// init.

var intervalFlag interval

func init() {
    // Tie the command-line flag to the intervalFlag variable and
    // set a usage message.
    flag.Var(&intervalFlag, "deltaT", "comma-separated list of intervals to use between events")
}

func main() {
    // All the interesting pieces are with the variables declared above, but
    // to enable the flag package to see the flags defined there, one must
    // execute, typically at the start of main (not init!):
    //    flag.Parse()
    // We don't run it here because this is not a main function and
    // the testing suite has already parsed the flags.
}
</code></pre>

<p></p><h2 id="index">索引</h2><br>    <a href="#pkg-variables">Variables</a><br>    <a href="#Arg">func Arg(i int) string</a><br>    <a href="#Args">func Args() []string</a><br>    <a href="#Bool">func Bool(name string, value bool, usage string) *bool</a><br>    <a href="#BoolVar">func BoolVar(p *bool, name string, value bool, usage string)</a><br>    <a href="#Duration">func Duration(name string, value time.Duration, usage string) *time.Duration</a><br>    <a href="#DurationVar">func DurationVar(p *time.Duration, name string, value time.Duration, usage string)</a><br>    <a href="#Float64">func Float64(name string, value float64, usage string) *float64</a><br>    <a href="#Float64Var">func Float64Var(p *float64, name string, value float64, usage string)</a><br>    <a href="#int">func Int(name string, value int, usage string) *int</a><br>    <a href="#int64">func Int64(name string, value int64, usage string) *int64</a><br>    <a href="#int64Var">func Int64Var(p *int64, name string, value int64, usage string)</a><br>    <a href="#intVar">func IntVar(p *int, name string, value int, usage string)</a><br>    <a href="#NArg">func NArg() int</a><br>    <a href="#NFlag">func NFlag() int</a><br>    <a href="#Parse">func Parse()</a><br>    <a href="#Parsed">func Parsed() bool</a><br>    <a href="#PrintDefaults">func PrintDefaults()</a><br>    <a href="#Set">func Set(name, value string) error</a><br>    <a href="#String">func String(name string, value string, usage string) *string</a><br>    <a href="#StringVar">func StringVar(p *string, name string, value string, usage string)</a><br>    <a href="#Uint">func Uint(name string, value uint, usage string) *uint</a><br>    <a href="#Uint64">func Uint64(name string, value uint64, usage string) *uint64</a><br>    <a href="#Uint64Var">func Uint64Var(p *uint64, name string, value uint64, usage string)</a><br>    <a href="#UintVar">func UintVar(p *uint, name string, value uint, usage string)</a><br>    <a href="#UnquoteUsage">func UnquoteUsage(flag *Flag) (name string, usage string)</a><br>    <a href="#Var">func Var(value Value, name string, usage string)</a><br>    <a href="#Visit">func Visit(fn func(*Flag))</a><br>    <a href="#VisitAll">func VisitAll(fn func(*Flag))</a><br>    <a href="#ErrorHandling">type ErrorHandling</a><br>    <a href="#Flag">type Flag</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#Lookup">func Lookup(name string) *Flag</a><br>    <a href="#FlagSet">type FlagSet</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#NewFlagSet">func NewFlagSet(name string, errorHandling ErrorHandling) *FlagSet</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Arg">func (f *FlagSet) Arg(i int) string</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Args">func (f *FlagSet) Args() []string</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Bool">func (f *FlagSet) Bool(name string, value bool, usage string) *bool</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.BoolVar">func (f *FlagSet) BoolVar(p *bool, name string, value bool, usage string)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Duration">func (f *FlagSet) Duration(name string, value time.Duration, usage string) *time.Duration</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.DurationVar">func (f *FlagSet) DurationVar(p *time.Duration, name string, value time.Duration, usage string)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Float64">func (f *FlagSet) Float64(name string, value float64, usage string) *float64</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Float64Var">func (f *FlagSet) Float64Var(p *float64, name string, value float64, usage string)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Init">func (f *FlagSet) Init(name string, errorHandling ErrorHandling)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Int">func (f *FlagSet) Int(name string, value int, usage string) *int</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Int64">func (f *FlagSet) Int64(name string, value int64, usage string) *int64</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Int64Var">func (f *FlagSet) Int64Var(p *int64, name string, value int64, usage string)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.IntVar">func (f *FlagSet) IntVar(p *int, name string, value int, usage string)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Lookup">func (f *FlagSet) Lookup(name string) *Flag</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.NArg">func (f *FlagSet) NArg() int</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.NFlag">func (f *FlagSet) NFlag() int</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Parse">func (f *FlagSet) Parse(arguments []string) error</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Parsed">func (f *FlagSet) Parsed() bool</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.PrintDefaults">func (f *FlagSet) PrintDefaults()</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Set">func (f *FlagSet) Set(name, value string) error</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.SetOutput">func (f *FlagSet) SetOutput(output io.Writer)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.String">func (f *FlagSet) String(name string, value string, usage string) *string</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.StringVar">func (f *FlagSet) StringVar(p *string, name string, value string, usage string)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Uint">func (f *FlagSet) Uint(name string, value uint, usage string) *uint</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Uint64">func (f *FlagSet) Uint64(name string, value uint64, usage string) *uint64</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Uint64Var">func (f *FlagSet) Uint64Var(p *uint64, name string, value uint64, usage string)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.UintVar">func (f *FlagSet) UintVar(p *uint, name string, value uint, usage string)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Var">func (f *FlagSet) Var(value Value, name string, usage string)</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.Visit">func (f *FlagSet) Visit(fn func(*Flag))</a><br>    &ensp;&ensp;&ensp;&ensp;<a href="#FlagSet.VisitAll">func (f *FlagSet) VisitAll(fn func(*Flag))</a><br>    <a href="#Getter">type Getter</a><br>    <a href="#Value">type Value</a>  <p></p>
<p></p><h5>Package files</h5><br>    &ensp;&ensp;&ensp;&ensp;<a href="https://golang.org/src/flag/flag.go" target="_blank" rel="external">flag.go</a><p></p>

      
    </div>
</article>


    
        <section id="comments" class="disqus">
    <style> aside.comment-bar { margin: auto 30px; }</style>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function(){
            this.page.url = 'http://glody.net/2017/11/23/Markdown/flag/';
            this.page.identifier = '2017/11/23/Markdown/flag/';
        };
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = '//yelog.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    
    <script> loadComment(); </script>

</section>


    

    </div>
</div>
<div class="full-toc">
    <button class="full"><span class="min"></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
</div>
</body>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery.pjax/1.9.6/jquery.pjax.min.js"></script>
<script src="/js/script.js"></script>
</html>
